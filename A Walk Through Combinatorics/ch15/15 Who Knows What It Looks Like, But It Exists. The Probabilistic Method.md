## The Notion of Probability
扔一个硬币四次，想知道至少三次正面（头）朝上的概率。结果一共有$2^4=16$种，关心的结果的数量是五种，分别是$HHHH,HHHT,HHTH,HTHH,THHH$。那么至少三次正面向上的概率就是关心的结果个数比上总的结果的个数，$5/16$。这个形成概率概念的常识性做法，当然，稍微有点不严谨，比如没有说硬币是公平的，正面和反面向上的概率是相同的。  
**Definition 15.1.** 令$\Omega$是实验的某些序列的结果的有限集合，各个结果的发生是等概率的。令$A\subseteq \Omega$，那么$\Omega$称为样本空间(`sample space`)，$A$是事件(`event`)，那么比率
$$P(A)=\frac{|A|}{|\Omega |}$$
是事件$A$的概率。  
$P$是定义在$\Omega$的所有子集的结合上的函数，取值范围是$0\leq P(A)\leq 1$。  
当$A,\Omega$是无限集合的时候，这个定义是无意义的。这里我们只讨论有限集合的概率问题。  
如果$A,B$是$\Omega$的不相交子集，并且$|A\cup B|=|A|+|B|$，因此$P(A\cup B)=P(A)+P(B)$。一般地，$|A\cup B|=|A|+|B|-|A\cap B|$，蕴含$P(A\cup B)=P(A)+P(B)-P(A\cap B)$。进一步泛化可以得到下面这个简单但是有用的不等式。  
**Proposition 15.2.** 令$A_1,A_2,\cdots,A_n$来自同一个样本空间，那么
$$P(A_1\cup A_2\cup\cdots\cup A_n)\leq P(A_1)+P(A_2)+\cdots +P(A_n)$$
**Proof.** 上式等价于
$$|A_1\cup A_2\cup\cdots\cup A_n|\leq |A_1|+|A_2|+\cdots +|A_n|$$
左边对于至少属于其中一个$A_i$的样本空间的元素只计数了一次，而右边至少计数了一次。

三至七章有大量排列组合的例子和练习，它们能很容易的转化成概率的例子和练习。比如有多少个六位数包含数字6，可以变成随机取一个六位数字，包含6的概率是多少。所以这里就不再讨论这些基础问题。这一小节给出两个反直觉的例子。

**Example 15.3.** 彩票游戏。从36个数字中选择6个，至少选中一个中奖数字的概率是多少？  
**Solution.** 令$A$表示至少选中一个中奖数字，$B$表示不包含中奖数字。很明显，$A, B$是不相交的，且$A+B=\Omega$，所以$P(A)+P(B)=1$。因此我们计算$P(B)$的概率即可，$B$事件是从30个数字选择6个。
$$P(A)=1-P(B)=1-\frac{\begin{pmatrix}
30\\6
\end{pmatrix}}{\begin{pmatrix}
36\\6
\end{pmatrix}}=1-0.3048=0.6952$$
所以任意选择六个数字，至少有一个中奖数字的概率接近百分之七十。

如果$A, B$是不相交的，我们称之为互斥(`mutually exclusive`)。也就是说，$A, B$不可能同时发生。在此基础上，如果$A+B=\Omega$，那么$B$是$A$的补集(`complement`)，记作$\bar{A}=B$。

**Example 15.4.** 某个聚会上有四十个人，没有人是二月二十九号出生的。Adam向Bill提意玩一个游戏，每一个客人写下出生的月份和天，如果两个人是同一天则Adam赢，否则Bill赢。Bill看了看，只有四十个人，比一年的天数小多了，觉得自己会赢。实际情况呢？
**Solution.** Bill没有分清百分百会发生和大于百分之五十会发生。如果一定赢，那么需要366个人，但是超过一半的机会是完全不同的问题。  
下面会证明至少需要23个人，Adam大概率会赢，否则Bill会赢。  
至少有两人在同一天生日的补集是没有两个人的生日在同一天。第一个人可以是任意一天出生，365个可能性，第二个人不能是同一天，364个可能性，依此类推。23个人可能总数是$(365)_{23}$。所有可能的结果集有$365^{23}$。所有没有任何两个人的生日在同一天的概率是
$$\frac{365\cdot 364\cdots 343}{365^{23}}<\frac{1}{2}$$
所以超过一半的可能性是存在两个人的生日在同一天。  w
我们为什么要排除二月二十九号呢？因为这一天和其他天不等概率，闰年才会有这一天，几率是其他天的四分之一（近似）。那么为了使得样本空间是等概率的，需要考虑四年，$4\cdot 365+1=1461$天作为整个样本空间，使得论证过程会复杂很多。  
上面这个例子有时被称为生日悖论(`birthday paradox`)。
