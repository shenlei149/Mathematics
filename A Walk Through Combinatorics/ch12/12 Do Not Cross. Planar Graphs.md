## Euler's Theorem for Planar Graphs
考虑三个房子和三个水井，假设三个房子住的人互相看不上，那么我们需要修九条连通三个房子和三个水井，要求九个路线不交叉以避免他们遇见。  
图12.1是一个失败的尝试。  
![](1201.png)  
这个问题是无解的，后面会给出证明。  
这一章会聚焦于新的问题：边不相交。

**Definition 12.1.** 图$G$能够被画在平面上且任意两条边都不相交，那么$G$被称为平面图(`planar graph`)。  
图$G$的边把平面划分成若干区域，这些区域是$G$的面(`face`)。图12.2是一个例子。  
![](1202.png)  
平面图的面的个数和图的顶点、边的数量一样重要。下面的定理表明了三者的关系。  
**Theorem 12.2 (Euler's Theorem on Planar graphs).** 图$G$是一个有$V$个顶点、$E$条边、$F$个面的连通平面图，那么$V+F=E+2$。  
**Proof.** 基于$E$递归。$E=1$时，$G$要么是一个只有一条边的树，那么$V=2,F=1$；要么是一个点加一个环的图，那么$V=1,F=2$，都有$V+F=E+2$。  
假设对于所有有$E-1$条边的连通平面图都成立，考虑有$E$条边的图$G$。分两种情况讨论。  
1) 移除$G$的一条边$e$新生成的图$G'$仍旧连通，那么$e$在一个环上。环将$G$分割称两个面，但是去掉边$e$后，两个面变成了一个面。所以$G'$有$E-1$条边、$V$个顶点和$F-1$个面。由递归假设知$V+F-1=E-1+2$，所以$V+F=E+2$。  
2) 如果不存在上面所说的边$e$，那么$G$无环，即一棵树。由**Theorem 10.4**有$V=E+1$，又因为只有一个面$F=1$，所以命题成立。

现在我们回到三个房子和三个水井的问题。问题等价于在平面上能不能画出$K_{3,3}$，同时没有边交叉。  
**Example 12.3.** 图$K_{3,3}$不是平面图。  
**Solution.** 反证法。假设$K_{3,3}$是平面图，有九条边和六个顶点，根据**Theorem 12.2**可以计算得到有五个面。$K_{3,3}$是完全二分图，所有的面都必须是四边形，那么五个面有二十条边，又有每条边被两个面共有，那么五个面需要十条边，但是$K_{3,3}$只有九条边。

由于$K_{3,3}$是$K_6$的子图，那么$K_6$也不是平面图。$K_3$是三角形，明显是平面图。$K_4$也是容易画出来的，四边形，连接一条对角线，另外一对顶点从外围相连，所以$K_4$是平面图。$K_5$是不是平面图就不那么显而易见了。  
**Example 12.4.** $K_5$不是平面图。  
**Solution.** 和上个题目类似的解法。假设$K_5$是平面图，有五个顶点，十条边，那么计算得到有七个面。$K_5$是完全图，所以每个面必须是三角形。七个三角形二十一条边，两个面共享一条边，那么和只有十条边矛盾。

这里讲$K_5$和$K_{3,3}$是有原因的。实际上，这两种图是导致图不是平面图的唯二原因。  
如果$H$不是平面图，移除度为二的点$V$，使得边$AV,VB$称为一条边$AB$，新的图仍旧不是平面图。类似的，我们将图$H$的边$CD$之间插入一个点$F$，分成两条边$CF,FD$，这次得到的新图也不是平面图。如果图$T$能够从$H$中重复这两种操作得到，那么$H$和$T$是`edge-equivalent`的。

**Theorem 12.5 (Kuratowski's Theorem).** 一个图不是平面图等价于图包含一个和$K_5, K_{3,3}$`edge-equivalent`的子图。
