## Pattern Avoidance
有$n$个高低各不相同的孩子，占成一列，每个人面向前一个人的背部。要求每个人必须能够看到所有比自己矮的人在自己的前面。有多少种不同的列队方式呢？  
令$1,2,3,\cdots,n$表示依序各个孩子，$1$最矮$n$最高。  
例子$1423567$符合要求吗？不。因为2和3看不到1，被4挡住了。例子$6723415$是符合要求的。  
什么时候是符合要求的呢？如果没有三个元素$a,b,c$是一列中的三个（无需连续）且$a<c<b$，就是符合要求的。如果存在的话，那么$c$看不到$a$。

**Definition 14.1.** 令$a,b,c$是某个排列从左到右按序的三项（不要求连续）。如果$a<c<b$，那么称为132模式(`132-pattern`)。  
为什么称为132模式呢？因为它们三项相对的高度和1、3、2一致。最左边的最小，中间最高，最右的居中。类似的，如果$a<b<c$，那么称为123模式，如果$c<a<b$，那么是231模式。

**Definition 14.2.** 令$p$是一个排列。如果$p$中没有三项能够形成132模式，那么$p$被称为`132-avoiding`。  
我们的目标是求得长度为$n$的是`132-avoiding`的排列数$f(n)$.  
假设某个`132-avoiding`排列的$n$位于位置$i$，那么$n$左边的元素都比$n$右边的元素大。反证。如果左右有$x$小于右边的某个元素$y$，那么$xny$是132模式。所以$1,2,3,\cdots,n-i$在右边，$n-i+1,n-i+2,\cdots,n-1$在左边。左边$n-1$个元素形成`132-avoiding`排列数是$f(i-1)$，类似的，右边$n-i$个元素形成`132-avoiding`排列数是$f(n-i)$。对于$n$在位置$i$的情况，共有$f(i-1)f(n-i)$种排列。为了递归正确，令$f(0)=1$。  
对$i\in [n]$求和
$$f(n)=\sum_{i=1}^n f(i-1)f(n-i)\tag{14.1}$$
其中$n\geq 1,f(0)=1$。  
第八章的习题16用生成函数求解了这个递归式，其解是卡特兰数。
