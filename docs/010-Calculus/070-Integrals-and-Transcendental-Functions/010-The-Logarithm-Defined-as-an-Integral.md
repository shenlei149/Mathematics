第一章中，我们说自然对数函数 $\ln x$ 是自然指数 $e^x$ 的反函数。函数 $e^x$ 是一族函数 $a^x,a>0$ 中的一个，其在 $y$ 轴交点处的斜率恰好是 1。  
这一节我们会从全新的视角来定义这些函数。首先，应用微积分基本定理以积分的形式定义自然对数函数 $\ln x$，然后分析其性质。然后定义其反函数 $e^x$，研究其性质。这看似是一种不直接的方式，且看起来有点奇怪，但是这使得我们可以用一种优雅的方式分析他们的性质。

### 自然对数函数的定义
正数 $x$ 的自然对数写作 $\ln x$，使用第五章的微积分基本定理，可以给出下面这个自然对数函数的定义
$$\ln x=\int_1^x\frac{1}{t}dt,x>0$$
从基本定理可知，$\ln x$ 是连续函数。从几何上分析，当 $x>1$ 时，$\ln x$ 对应从 $t=1$ 到 $t=x$ 图像 $1/t$ 下方的面积，如下图所示。当 $0<x<1$ 时，$\ln x$ 是从 $x$ 到 $1$ 图像下方面积的负数。$x\leq 0$ 时无定义。  
![](010.010.png)  
从定义我们可以得到
$$\ln x=\int_1^1 \frac{1}{t}dt=0$$
从 $t=1$ 到 $t=x$，我们使用矩形的有限和可以近似 $y=1/t$ 下方的面积，这样就可以近似估计对应 $x$ 的 $\ln x$ 的值。如下表所示。

| $x$ | $\ln x$ |
|--|--|
| 0 | undefined |
| 0.05 | -3.00 |
| 0.5 | -0.69 |
| 1 | 0 |
| 2 | 0.69 |
| 3 | 1.10 |
| 4 | 1.39 |
| 10 | 2.30 |

由于 $\ln x$ 是连续的，由中值定理可知在 $[2,3]$ 之间，存在一个数，其自然对数是 1。我们将这个数定义为 $e$
$$\ln(e)=\int_1^e\frac{1}{t}dt=1$$
从几何上解释，在 $[1,e]$ 这个区间上，图像 $y=1/t$ 下方的面积之和恰好是 1。如上图的蓝色部分所示。之前，我们给过 $e$ 的近似值是 $2.718281828\cdots$。

### $y=\ln x$ 的导数
由微积分积分定理可以得到
$$\frac{d}{dx}\ln x=\frac{d}{dx}\int_1^x\frac{1}{t}dt=\frac{1}{x}$$
因此，函数 $y=\ln x$ 是初始值问题 $dy/dx=1/x,x>0,y(1)=0$ 的解。注意，导数永远是正数。  
如果 $u$ 是 $x$ 的可导函数且值是正数，那么 $\ln u$ 是存在的。根据链式法则有
$$\frac{d}{dx}\ln u=\frac{1}{u}\frac{du}{dx}$$
3.8 小节的例3 我们求解过 $y=\ln |x|$ 的导数
$$\frac{d}{dx}\ln |x|=\frac{1}{x},x\neq 0$$
如果 $b$ 是常量，且有 $bx>0$ 那么
$$\frac{d}{dx}\ln bx=\frac{1}{bx}\frac{d}{dx}(bx)=\frac{1}{bx}\cdot b=\frac{1}{x}$$

### $\ln x$ 的值域和图像
由于 $dy/dx=1/x,x>0$ 是正数，所以 $\ln x$ 是递增函数。二阶导 $-1/x^2$ 是负数，所以函数图像上凸。如下图所示。  
![](010.020.png)  
$\ln x$ 有下面这些属性，下一个小节会给出严格的证明。

$$\begin{aligned}
\ln bx&=\ln b+\ln x\\
\ln \frac{b}{x}&=\ln b-\ln x\\
\ln \frac{1}{x}&=-\ln x\\
\ln x^r&=r\ln x, r \text{ rational}
\end{aligned}$$
我们可以根据上图估算 $\ln 2$ 的值。图像下方是一个宽 1 高 0.5 的矩形，所以面积是 1/2，所以
$$\ln 2>\frac{1}{2}$$
进而可以得到
$$\ln 2^n=n\ln 2>n(\frac{1}{2})=\frac{n}{2}$$
