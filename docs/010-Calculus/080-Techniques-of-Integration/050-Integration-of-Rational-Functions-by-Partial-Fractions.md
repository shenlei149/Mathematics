这一小节回讲解如何将有理函数（多项式函数的商）写作更简单的部分之和，这些部分称为部分分数（`partial fractions`），拆分之后的函数更容易求积分。比如
$$\frac{5x-3}{x^2-2x-3}=\frac{2}{x+1}+\frac{3}{x-3}$$
这个技能在一些其他场景也很有用。如果能过左边函数写作右边简单的形式，那么求解积分就很容易了。
$$\begin{aligned}
\int\frac{5x-3}{x^2-2x-3}dx&=\int\frac{2}{x+1}dx+\int\frac{3}{x-3}dx\\
&=2\ln|x+1|+3\ln|x-1|+C
\end{aligned}$$
这种方法称为部分分数法。回到之前的例子，我们需要找到下面式子的 $A, B$
$$\frac{5x-3}{x^2-2x-3}=\frac{A}{x+1}+\frac{B}{x-3}$$
等式右边的两项是部分分数，原因是它们的分母是原始分母 $x^2-2x-3$ 的一部分。$A, B$ 称为待定系数。

为了求解 $A, B$，我们需要重新按照 $x$ 的幂次整理上面的方程
$$5x-3=A(x-3)+B(x+1)=(A+B)x-3A+B$$
上式成立等价于 $x$ 幂次相同的系数也相同，即
$$5=A+B,-3=-3A+B$$
解这个二元一次方程组得到 $A=2,B=3$。

### 部分分数法的一般描述
将有理函数 $f(x)/g(x)$ 写作部分分数之和依赖于下面两个事实。
* $f(x)$ 的最高幂次小于 $g(x)$ 的最高幂次，即 $f(x)/g(x)$ 是真分数。如果不是，用 $g(x)$ 除 $f(x)$，然后用部分分数法求解余数部分。例3 就是这种情况。
* 需要知道 $g(x)$ 的因数。理论上，任意多项式都能写作线性因子和二次项因子的乘积。不过实践中可能很难分解因数。

当 $g(x)$ 因数知道的时，下面是求真分数 $f(x)/g(x)$的方法。如果一个二项式不能写作两个线性因子之积，则其不可约（`irreducible`），也就是说多项式没有实数解。

1. 令 $x-r$ 是 $g(x)$ 的一个线性因子，其最高幂次是 $(x-r)^m$，那么对于这个因子，可以写作 $m$ 个部分分数之和
$$\frac{A_1}{(x-r)}+\frac{A_2}{(x-r)^2}+\cdots+\frac{A_m}{(x-r)^m}$$
2. 令 $x^2+px+q$ 是 $g(x)$ 不可约的二次项因子，即 $x^2+px+q$ 没有实数根。假定其最高次幂是 $(x^2+px+q)^n$，那么对于这个因子可以分解成 $n$ 个部分分数之和
$$\frac{B_1x+C_1}{(x^2+px+q)}+\frac{B_2x+C_2}{(x^2+px+q)^2}+\cdots+\frac{B_nx+C_n}{(x^2+px+q)^n}$$
3. 将原始函数 $f(x)/g(x)$ 写成这些分数之和的形式。两边同时乘以原始的分母，然后按照 $x$ 的降幂顺序重新排列。
4. 使 $x$ 幂次相同的系数相等，求解待定系数。

例1 求
$$\int\frac{x^2+4x+1}{(x-1)(x+1)(x+3)}dx$$
解：
