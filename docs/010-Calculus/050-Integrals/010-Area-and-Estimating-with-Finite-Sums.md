通过构造有限和的近似是得到定积分公式的基础。

### 面积
如下图所示。我们想求解 $x$ 轴以上，曲线 $y=1-x^2$ 以下，介于 $x=0,x=1$ 之间的面积。  
![](010.010.png)  
很遗憾的是没有简单的几何公式求解阴影面积，改如何计算呢？  
我们可以类似于下图所示的方式近似求解 $R$ 的面积。将 $R$ 分成两个矩形，宽度是 1/2，高度分别是 1 和 3/4。高度是对应区间的最大值，原因是 $f$ 在该区间是递减的。两个矩形面积加起来是
$$A\approx 1\cdot\frac{1}{2}+\frac{3}{4}\cdot\frac{1}{2}=\frac{7}{8}=0.875$$
![](010.020.png)  
估算值比 $R$ 的真实面积要大。我们称为上和（`upper sum`）。  如上图 b 所示，如果切成四个矩形，那么得到
$$A\approx 1\cdot\frac{1}{4}+\frac{15}{16}\cdot\frac{1}{4}+\frac{3}{4}\cdot\frac{1}{4}+\frac{7}{16}\cdot\frac{1}{4}=\frac{25}{32}=0.78125$$
仍旧比真实面积大一些。  
如果我们像下图一样，矩形位于 $R$ 以内，那么得到的面积比真实的要小。由于 $f=1-x^2$ 在 $[0,1]$ 上递减，那么每个区间取右端点即可。这样得到的值称为下和（`lower sum`）。
$$A\approx \frac{15}{16}\cdot\frac{1}{4}++\frac{3}{4}\cdot\frac{1}{4}+\frac{7}{16}\cdot\frac{1}{4}+0\cdot\frac{1}{4}=\frac{17}{32}=0.53125$$
![](010.030.png)  
那么 $R$ 的真实面积 $A$ 介于两者之间
$$0.53125<A<0.78125$$
估算的上下界可以界定这些估算的误差最大值。由于真实值介于两者之间，那么误差不会查过两者之差 $0.78125-0.53125=0.25$。  
如上如的 b，我们还可以根据每个子区间的中点计算得到 $f$ 作为矩形的高以估算面积。这称为中点法则（）。中点法则给出的估算结果介于上和和下和之间，但是我们无法得到估算值比真实值大还是小。根据中点法则得到估算的面积
$$A\approx \frac{63}{64}\cdot\frac{1}{4}+\frac{39}{64}\cdot\frac{1}{4}+\frac{15}{64}\cdot\frac{1}{4}+\frac{15}{64}\cdot\frac{1}{4}=\frac{172}{64}\cdot\frac{1}{4}=0.671875$$
上述求和中，函数 $f$ 在区间 $[a,b]$ 上分成了 $n$ 个子区间，每个子区间宽度是 $\Delta x=(b-a)/n$。在每个子区间根据 $c_1,c_2,\cdots$ 得到 $f(c_k)$。上和中我们选择的 $c_k$使得 $f(c_k)$ 在对应区间是最大值，下和的话使得 $f(c_k)$ 是最小值。中点法则是选择第 $k$ 个子区间的中点 $c_k$。那么求和公式是
$$f(c_1)\Delta x+f(c_2)\Delta x+\cdots+f(c_n)\Delta x$$
随着分割成更多的矩形，每个矩形越来越瘦，这些矩形的有限和也越来越接近真实值。  
下面 a 图展示了用 16 个矩形来近似 $R$ 的面积，和是 0.634765625，这个值还是比真实值要小。  
b 图展示了上和的情况，和是 0.697265625，比真实值稍大。中点法则得到 0.6669921875，但不清楚是过大还是过小。  
![](010.040.png)  
下面的表格展示了分割多达 1000 个矩阵时的上和和下和以及中间法则的估算结果。估算结果都趋于 2/3。下一小节会分析当矩阵宽度趋于零个数趋于无限多时得到的 $R$ 面积，我们会发现其面积就是 2/3。

| 子区间个数 | 下和 | 中点法则 | 上和 |
|--|--|--|--|
| 2 | 0.375 | 0.6875 | 0.875 |
| 4 | 0.53125 | 0.671875 | 0.78125 |
| 16 | 0.634765625 | 0.6669921875 | 0.697265625 |
| 50 | 0.6566 | 0.6667 | 0.6766 |
| 100 | 0.66165 | 0.666675 | 0.67165 |
| 1000 | 0.6661665 | 0.66666675 | 0.6671665 |

### 移动距离
